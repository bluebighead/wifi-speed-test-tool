# WiFi Speed Test Tool

一款功能完善的电脑端网络测速工具，专注于WiFi信道分析与智能推荐，帮助用户优化网络连接质量。

## 📋 项目概述

WiFi Speed Test Tool 是一个基于PyQt5开发的桌面应用程序，旨在为用户提供专业的WiFi信道分析和优化建议。通过实时信道扫描、数据采集和智能算法分析，帮助用户识别最优WiFi信道，提升网络性能。

### 核心特性

- **双频段支持**：同时支持2.4GHz和5GHz频段分析
- **实时信道扫描**：动态监测信道占用情况和信号强度
- **智能推荐算法**：基于加权算法的多维度信道质量评估
- **可视化数据展示**：直观的图表和表格展示分析结果
- **灵活配置**：支持自定义测试次数、扫描间隔等参数
- **用户友好界面**：简洁直观的操作界面，易于使用

## ✨ 功能特点

### 1. 信道占用分析
- **双频段切换**：支持2.4GHz和5GHz频段自由切换查看
- **实时数据采集**：实时显示各信道的信号强度、占用率和干扰情况
- **可视化图表**：使用matplotlib绘制直观的信道使用状态图表
- **信道质量评分**：基于信号强度、占用率和干扰情况计算信道质量评分
- **自动刷新功能**：支持信道自动刷新，实现实时监测

### 2. 智能信道推荐
- **多维度测试**：对每个信道执行指定次数的独立测试（可自定义1-1000次）
- **关键指标采集**：采集信号强度(RSSI)、信噪比(SNR)、信道带宽、传输速率、丢包率等关键性能指标
- **加权算法评估**：采用加权算法对各信道的综合性能进行量化评估
- **推荐结果展示**：提供推荐理由、预期改善效果和详细测试数据
- **频段快捷切换**：支持2.4GHz和5GHz频段的快捷切换，实时更新推荐结果

### 3. 配置管理
- **灵活的测试配置**：用户可自定义每个信道的测试次数（1-1000次）
- **配置持久化**：自动保存用户配置，下次启动时自动加载
- **实时应用**：配置修改后立即生效，无需重启应用
- **输入验证**：严格的输入验证，防止无效配置

### 4. 用户体验优化
- **模态提示**：未执行信道扫描时提供友好的模态提示
- **进度显示**：实时显示测试进度和状态信息
- **错误处理**：完善的异常处理机制，确保系统稳定性
- **响应式布局**：支持窗口大小调整，布局自适应

## 💻 系统要求

- **操作系统**：Windows 10/11
- **Python版本**：3.8+
- **权限要求**：管理员权限（WiFi扫描功能）
- **网络要求**：需要网络连接进行测速
- **内存要求**：最低2GB RAM
- **磁盘空间**：最低500MB可用空间

## 🚀 安装说明

### 1. 克隆或下载项目

```bash
git clone https://github.com/bluebighead/wifi-speed-test-tool.git
cd wifiTest
```

### 2. 创建虚拟环境（推荐）

```bash
python -m venv venv
# Windows
venv\Scripts\activate
# Linux/Mac
source venv/bin/activate
```

### 3. 安装依赖

```bash
pip install -r requirements.txt
```

### 4. 运行程序

```bash
python main.py
```

或者使用批处理文件（Windows）：

```bash
run.bat
```

## 📖 使用指南

### 信道分析

1. 点击"信道分析"标签页
2. 选择频段（2.4GHz或5GHz）
3. 点击"扫描信道"按钮
4. 查看信道占用图表和详情表格
5. 可选：勾选"自动刷新"实现实时监测

### 信道推荐

1. 首先在"信道分析"标签页扫描信道
2. 切换到"信道推荐"标签页
3. 设置测试次数（默认50次，可自定义1-1000次）
4. 点击"分析并推荐"按钮
5. 查看推荐结果、推荐理由和测试数据
6. 可选：切换频段查看不同频段的推荐结果

### 配置测试次数

1. 在"信道推荐"标签页的控制面板中
2. 找到"测试次数"区域
3. 点击显示当前测试次数的按钮
4. 在弹出的对话框中输入新的测试次数（1-1000）
5. 点击"确定"保存设置

## ⌨️ 快捷键

- `Ctrl+Q`：退出程序
- `F5`：刷新当前标签页数据

## ⚙️ 配置说明

配置文件位于 `config/config.json`，可以自定义以下设置：

```json
{
  "app": {
    "name": "WiFi Speed Test",
    "version": "1.0.0"
  },
  "wifi": {
    "scan_interval": 5,
    "bands": ["2.4GHz", "5GHz"],
    "test_count": 50
  },
  "ui": {
    "chart_update_interval": 2000,
    "theme": "default"
  },
  "logging": {
    "level": "INFO",
    "max_file_size": 10485760,
    "backup_count": 5
  }
}
```

## ⚠️ 注意事项

1. **管理员权限**：WiFi扫描功能需要管理员权限，请以管理员身份运行程序
2. **网络连接**：测速功能需要网络连接
3. **信道切换**：实际信道更改需要在路由器设置中进行
4. **数据准确性**：测速结果受网络环境影响，建议多次测试取平均值
5. **测试次数**：测试次数设置过高会增加测试时间，建议根据实际需求调整

## 📁 项目结构

```
wifiTest/
├── main.py                      # 程序入口
├── requirements.txt             # 依赖清单
├── pyproject.toml              # 项目配置
├── run.bat                     # Windows启动脚本
├── config/                     # 配置文件
│   └── config.json
├── src/                        # 源代码
│   ├── ui/                     # UI组件
│   │   ├── main_window.py      # 主窗口
│   │   ├── channel_analysis_panel.py  # 信道分析面板
│   │   └── recommend_panel.py  # 信道推荐面板
│   ├── services/               # 服务层
│   │   └── config_service.py   # 配置服务
│   ├── managers/               # 管理器
│   ├── utils/                  # 工具类
│   │   ├── logger.py           # 日志工具
│   │   └── exception_handler.py  # 异常处理
│   └── models/                 # 数据模型
│       └── data_models.py      # 数据模型定义
├── tests/                      # 测试代码
├── logs/                       # 日志文件
└── docs/                       # 文档
```

## 📚 开发文档

项目采用6A规则进行开发管理，详细文档请查看：

- [需求对齐文档](ALIGNMENT.md)
- [三方评审确认](CONSENSUS.md)
- [架构设计文档](DESIGN.md)
- [任务拆分文档](TASK.md)
- [方案审批文档](APPROVAL.md)
- [风险登记册](RISK_REGISTER.md)
- [最终评估报告](FINAL.md)

## 🛠️ 技术栈

- **GUI框架**：PyQt5
- **WiFi操作**：pywifi
- **图表绘制**：matplotlib
- **网络请求**：requests
- **数据处理**：numpy
- **配置管理**：JSON
- **日志记录**：Python logging

## ❓ 常见问题

### Q1: 程序启动失败，提示权限不足
**A**: 请以管理员身份运行程序。右键点击程序，选择"以管理员身份运行"。

### Q2: WiFi扫描失败
**A**: 确保已以管理员身份运行，并且WiFi适配器正常工作。如果仍然失败，程序会使用模拟数据。

### Q3: 测速结果不准确
**A**: 测速结果受网络环境影响，建议在非高峰时段测试，并多次测试取平均值。

### Q4: 无法应用信道推荐
**A**: 本程序仅提供信道推荐，实际信道更改需要在路由器设置中进行。请登录路由器管理页面进行设置。

### Q5: 界面显示异常
**A**: 确保系统DPI设置正常，或尝试调整系统缩放比例。

### Q6: 测试次数设置过高导致测试时间过长
**A**: 建议根据实际需求调整测试次数。一般情况下，50次测试已经能够提供准确的结果。

### Q7: 测试结果窗口崩溃
**A**: 程序已优化，限制测试数据表格最多显示50行，避免因数据量过大导致崩溃。

## 📝 版本历史

### v1.0.0 (2026-02-08)
- 初始版本发布
- 实现信道分析功能
- 实现智能信道推荐功能
- 支持双频段切换
- 支持自定义测试次数
- 实现自动刷新功能
- 优化用户界面和交互体验

## 📄 许可证

MIT License

## 🤝 贡献指南

欢迎贡献代码、报告问题或提出建议。请遵循以下步骤：

1. Fork 本仓库
2. 创建特性分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 开启 Pull Request

## 📧 联系方式

- **项目主页**：https://github.com/bluebighead/wifi-speed-test-tool
- **问题反馈**：https://github.com/bluebighead/wifi-speed-test-tool/issues

---

**开发团队**：WiFi Test Team  
**版本**：1.0.0  
**更新日期**：2026-02-08  
**GitHub仓库**：https://github.com/bluebighead/wifi-speed-test-tool
