# 常见问题解答 (FAQ)

## 📋 文档概述

本文档收集了用户在使用WiFi Speed Test Tool过程中遇到的常见问题及其解决方案，帮助您快速解决问题。

## 📖 目录

1. [安装与启动](#安装与启动)
2. [权限与安全](#权限与安全)
3. [功能使用](#功能使用)
4. [结果解读](#结果解读)
5. [性能与优化](#性能与优化)
6. [错误处理](#错误处理)
7. [配置管理](#配置管理)
8. [高级问题](#高级问题)

## 🚀 安装与启动

### Q1: 程序无法启动，提示"找不到Python"

**问题描述**: 双击程序或运行命令时，系统提示找不到Python。

**可能原因**:
- Python未正确安装
- Python未添加到系统PATH
- Python版本过低

**解决方案**:

1. **检查Python安装**
   ```bash
   python --version
   ```
   如果提示"不是内部或外部命令"，说明Python未安装或未添加到PATH。

2. **安装Python**
   - 访问 [Python官网](https://www.python.org/downloads/)
   - 下载Python 3.8或更高版本
   - 运行安装程序
   - **重要**: 勾选"Add Python to PATH"

3. **验证安装**
   ```bash
   python --version
   # 应该显示: Python 3.8.x 或更高
   ```

4. **重新运行程序**
   ```bash
   python main.py
   ```

---

### Q2: 安装依赖时出现错误

**问题描述**: 运行`pip install -r requirements.txt`时出现错误。

**可能原因**:
- 网络连接问题
- pip版本过低
- 依赖包冲突

**解决方案**:

1. **升级pip**
   ```bash
   python -m pip install --upgrade pip
   ```

2. **使用国内镜像源**
   ```bash
   pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
   ```

3. **逐个安装依赖**
   ```bash
   pip install PyQt5
   pip install pywifi
   pip install matplotlib
   pip install requests
   pip install numpy
   ```

4. **检查错误信息**
   - 查看具体是哪个包安装失败
   - 访问该包的官方文档查看解决方案

---

### Q3: 程序启动后立即崩溃

**问题描述**: 程序启动后立即关闭或报错退出。

**可能原因**:
- 缺少必要的依赖
- 配置文件损坏
- 系统兼容性问题

**解决方案**:

1. **查看日志文件**
   - 打开 `logs/wifi_test.log`
   - 查看错误信息和堆栈跟踪

2. **重新安装依赖**
   ```bash
   pip uninstall -r requirements.txt
   pip install -r requirements.txt
   ```

3. **重置配置文件**
   - 删除 `config/config.json`
   - 重启程序，程序会生成默认配置

4. **检查系统兼容性**
   - 确保使用Windows 10/11
   - 确保Python版本为3.8或更高

---

### Q4: 虚拟环境激活失败

**问题描述**: 运行`venv\Scripts\activate`时提示找不到命令。

**可能原因**:
- 虚拟环境未正确创建
- 路径错误
- PowerShell执行策略限制

**解决方案**:

1. **重新创建虚拟环境**
   ```bash
   # 删除旧的虚拟环境
   rmdir /s venv
   
   # 创建新的虚拟环境
   python -m venv venv
   ```

2. **使用完整路径激活**
   ```bash
   # Windows CMD
   %cd%\venv\Scripts\activate.bat
   
   # Windows PowerShell
   & .\venv\Scripts\Activate.ps1
   ```

3. **修改PowerShell执行策略**
   ```powershell
   Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
   ```

---

## 🔒 权限与安全

### Q5: 提示"需要管理员权限"

**问题描述**: 点击"扫描信道"时提示需要管理员权限。

**原因**: Windows系统要求管理员权限才能访问WiFi适配器进行网络扫描。

**解决方案**:

1. **以管理员身份运行**
   - 右键点击程序或`run.bat`
   - 选择"以管理员身份运行"

2. **设置快捷方式**
   - 右键点击程序
   - 选择"发送到" -> "桌面快捷方式"
   - 右键点击快捷方式
   - 选择"属性"
   - 点击"高级"
   - 勾选"以管理员身份运行此程序"
   - 点击"确定"

3. **永久设置**
   - 搜索"cmd"
   - 右键点击"命令提示符"
   - 选择"以管理员身份运行"
   - 在管理员命令提示符中运行程序

---

### Q6: 以管理员身份运行仍然失败

**问题描述**: 即使以管理员身份运行，WiFi扫描仍然失败。

**可能原因**:
- WiFi适配器驱动问题
- WiFi服务未启动
- 防火墙阻止

**解决方案**:

1. **检查WiFi适配器**
   - 打开"设备管理器"
   - 展开"网络适配器"
   - 查看WiFi适配器是否正常
   - 如果有黄色感叹号，更新驱动程序

2. **重启WiFi服务**
   ```powershell
   # 以管理员身份运行PowerShell
   net stop WlanSvc
   net start WlanSvc
   ```

3. **检查防火墙设置**
   - 打开"Windows Defender防火墙"
   - 点击"允许应用通过防火墙"
   - 确保Python或程序被允许

4. **使用模拟数据**
   - 如果无法解决，程序会自动使用模拟数据
   - 模拟数据可以测试程序功能

---

### Q7: 程序是否安全？会不会泄露WiFi密码？

**回答**: 程序是安全的，不会泄露WiFi密码。

**说明**:
- 程序只扫描WiFi网络的公开信息（SSID、信号强度等）
- 程序不访问、存储或传输WiFi密码
- 程序不连接到外部服务器（除了配置中指定的测速服务器）
- 程序是开源的，您可以审查源代码

**建议**:
- 从官方GitHub仓库下载程序
- 不要使用来源不明的修改版本
- 定期更新到最新版本

---

## 🎯 功能使用

### Q8: 如何选择2.4GHz或5GHz频段？

**回答**: 在信道分析面板中，您可以选择要分析的频段。

**操作步骤**:
1. 点击"信道分析"标签页
2. 在控制面板中找到频段选择下拉框
3. 选择"2.4GHz"或"5GHz"
4. 点击"扫描信道"按钮

**频段对比**:

| 特性 | 2.4GHz | 5GHz |
|------|---------|-------|
| 覆盖范围 | 广 | 窄 |
| 穿透能力 | 强 | 弱 |
| 速度 | 较慢 | 快 |
| 干扰 | 多 | 少 |
| 适用场景 | 大面积覆盖 | 高速传输 |

---

### Q9: 信道扫描需要多长时间？

**回答**: 通常需要5-10秒，具体时间取决于以下因素：

**影响因素**:
- 扫描的信道数量
- 周围WiFi网络数量
- 计算机性能
- WiFi适配器速度

**时间估算**:
- 2.4GHz (13个信道): 约5-8秒
- 5GHz (约30个信道): 约8-12秒

**优化建议**:
- 减少扫描的信道数量
- 关闭其他占用网络的应用
- 使用性能更好的计算机

---

### Q10: 如何设置测试次数？

**回答**: 在信道推荐面板的控制面板中，您可以设置每个信道的测试次数。

**操作步骤**:
1. 切换到"信道推荐"标签页
2. 在控制面板中找到"测试次数"区域
3. 点击显示当前测试次数的按钮（默认50）
4. 在弹出的对话框中输入新的测试次数（1-1000）
5. 点击"确定"保存设置

**测试次数建议**:
- **快速测试**: 10-20次 (约10-20秒)
- **标准测试**: 50次 (约30-60秒)
- **精确测试**: 100-200次 (约1-3分钟)
- **专业测试**: 500-1000次 (约5-15分钟)

**注意事项**:
- 测试次数越多，结果越准确，但耗时越长
- 建议根据实际需求选择合适的测试次数
- 配置会自动保存，下次启动时自动加载

---

### Q11: 如何使用自动刷新功能？

**回答**: 在信道分析面板中，勾选"自动刷新"复选框即可启用自动刷新。

**操作步骤**:
1. 点击"信道分析"标签页
2. 勾选"自动刷新"复选框
3. 程序会每5秒自动扫描一次信道
4. 实时更新信道占用情况

**使用场景**:
- 监测信道变化
- 观察网络干扰情况
- 找到最佳测试时机

**注意事项**:
- 自动刷新会增加CPU和网络使用
- 建议在需要监测时启用
- 不使用时建议关闭以节省资源

---

### Q12: 如何应用推荐的信道？

**回答**: 本程序仅提供信道推荐，实际信道更改需要在路由器设置中进行。

**操作步骤**:
1. 使用程序获取推荐的信道编号
2. 登录路由器管理页面
   - 通常地址是: 192.168.1.1 或 192.168.0.1
   - 输入用户名和密码
3. 找到无线设置
   - 通常在"无线设置"、"WiFi设置"或"高级设置"中
4. 修改信道为推荐信道
5. 保存设置
6. 重启路由器使设置生效

**注意事项**:
- 不同路由器的设置界面可能不同
- 修改信道后，所有连接的设备可能需要重新连接
- 建议在非高峰时段修改信道

---

## 📊 结果解读

### Q13: 如何解读信道质量评分？

**回答**: 信道质量评分是0-100的数值，表示信道的综合质量。

**评分标准**:
- **90-100分**: 优秀 - 信号强、干扰少、占用低
- **80-89分**: 良好 - 信号较好、干扰较少
- **60-79分**: 一般 - 信号一般、有一定干扰
- **40-59分**: 较差 - 信号弱、干扰较多
- **0-39分**: 很差 - 信号很弱、干扰严重

**评分因素**:
- 信号强度 (RSSI)
- 信道占用率
- 干扰程度
- 网络数量

**颜色标识**:
- 绿色: 优质信道 (评分≥80)
- 黄色: 一般信道 (评分60-79)
- 红色: 较差信道 (评分<60)

---

### Q14: 为什么推荐结果与实际情况不符？

**问题描述**: 程序推荐的信道在实际使用中效果不好。

**可能原因**:
- 测试环境与使用环境不同
- 测试时间与使用时间不同
- 其他设备干扰
- 路由器性能限制

**解决方案**:

1. **多次测试取平均值**
   - 在不同时间段测试
   - 多次测试后取平均结果

2. **模拟实际使用环境**
   - 在实际使用位置测试
   - 在实际使用时间测试
   - 关闭其他设备减少干扰

3. **考虑其他因素**
   - 路由器性能
   - 设备数量
   - 网络使用习惯

4. **手动测试**
   - 尝试使用推荐的信道
   - 测试网络速度和稳定性
   - 如果效果不好，尝试其他高分信道

---

### Q15: 测试数据表格为什么只显示50行？

**回答**: 为了避免因数据量过大导致UI崩溃，程序限制测试数据表格最多显示50行。

**说明**:
- 如果测试次数设置为100次，每个信道有100条测试数据
- 如果有10个信道，总共1000条数据
- 显示所有数据会导致UI响应缓慢甚至崩溃
- 因此程序限制最多显示50行

**查看完整数据**:
- 查看分析详情中的统计数据
- 导出测试数据到文件
- 查看日志文件

**提示信息**:
- 当数据超过50行时，表格下方会显示提示
- 例如: "📝 显示前 50 条测试数据，共 500 条"

---

## ⚡ 性能与优化

### Q16: 测试时间过长，如何加快速度？

**问题描述**: 执行信道分析或推荐需要很长时间。

**解决方案**:

1. **降低测试次数**
   - 将测试次数从50降到20或10
   - 在信道推荐面板中修改测试次数

2. **减少扫描的信道数量**
   - 只扫描常用的信道
   - 2.4GHz: 只扫描1, 6, 11
   - 5GHz: 只扫描36, 40, 44, 48

3. **关闭自动刷新**
   - 不需要实时监测时关闭自动刷新
   - 减少不必要的扫描

4. **优化计算机性能**
   - 关闭其他占用CPU的应用
   - 使用性能更好的计算机
   - 增加内存

5. **使用快速测试模式**
   - 使用较低的测试次数
   - 在网络稳定时测试

---

### Q17: 程序占用内存过高怎么办？

**问题描述**: 程序运行时占用大量内存。

**可能原因**:
- 测试次数设置过高
- 自动刷新频率过高
- 缓存数据过多

**解决方案**:

1. **降低测试次数**
   - 减少测试次数可以减少内存占用

2. **调整自动刷新间隔**
   - 编辑 `config/config.json`
   - 修改 `"scan_interval": 10` (从5秒改为10秒)

3. **定期重启程序**
   - 长时间使用后重启程序释放内存

4. **清理日志文件**
   - 定期删除旧的日志文件
   - 日志文件位于 `logs/` 目录

5. **检查内存泄漏**
   - 查看任务管理器中的内存使用情况
   - 如果内存持续增长，可能是内存泄漏
   - 向开发者报告问题

---

### Q18: 如何提高测试准确性？

**回答**: 以下方法可以提高测试准确性：

**测试环境**:
1. **选择合适的测试时间**
   - 避免网络高峰期 (19:00-23:00)
   - 选择凌晨或工作日的非高峰时段

2. **选择合适的测试位置**
   - 距离路由器1-3米
   - 避免墙角、地下室
   - 避开金属物体

3. **减少干扰**
   - 关闭其他WiFi设备
   - 关闭蓝牙设备
   - 关闭微波炉等干扰源

**测试设置**:
1. **增加测试次数**
   - 从50次增加到100次或更多
   - 多次测试取平均值

2. **多次测试**
   - 在不同时间段测试
   - 比较多次测试结果

3. **使用标准测试**
   - 每次使用相同的测试设置
   - 保持测试环境一致

**数据处理**:
1. **查看统计数据**
   - 查看平均值、标准差
   - 排除异常值

2. **比较不同频段**
   - 测试2.4GHz和5GHz
   - 选择更适合的频段

---

## ❌ 错误处理

### Q19: 出现"RuntimeError: wrapped C/C++ object has been deleted"错误

**问题描述**: 程序运行时出现RuntimeError。

**原因**: PyQt5的C/C++对象被删除后仍被访问。

**解决方案**:

1. **重启程序**
   - 关闭程序
   - 重新启动程序

2. **检查日志文件**
   - 打开 `logs/wifi_test.log`
   - 查看详细的错误信息

3. **更新程序**
   - 从GitHub获取最新版本
   - 重新安装依赖

4. **报告问题**
   - 如果问题持续存在
   - 向开发者报告问题
   - 提供日志文件和复现步骤

---

### Q20: 出现"ValueError: figure size must be positive"错误

**问题描述**: 程序显示图表时出现ValueError。

**原因**: 图表尺寸计算错误，导致负值。

**解决方案**:

1. **调整窗口大小**
   - 最大化窗口
   - 或调整到合适的大小

2. **重启程序**
   - 关闭程序
   - 重新启动程序

3. **检查配置**
   - 编辑 `config/config.json`
   - 检查UI相关配置是否正确

4. **更新程序**
   - 从GitHub获取最新版本
   - 该问题可能已在最新版本中修复

---

### Q21: 出现"KeyError: 'consistency'"错误

**问题描述**: 程序运行时出现KeyError。

**原因**: 访问不存在的字典键。

**解决方案**:

1. **重启程序**
   - 关闭程序
   - 重新启动程序

2. **重置配置**
   - 删除 `config/config.json`
   - 重启程序，程序会生成默认配置

3. **更新程序**
   - 从GitHub获取最新版本
   - 该问题可能已在最新版本中修复

---

### Q22: 测试结果窗口崩溃不显示

**问题描述**: 点击"分析并推荐"后，测试结果窗口崩溃或无法显示。

**原因**: 测试数据过多导致UI渲染失败。

**解决方案**:

1. **降低测试次数**
   - 将测试次数从100降到50或更低
   - 避免生成过多测试数据

2. **重启程序**
   - 关闭程序
   - 重新启动程序

3. **查看日志文件**
   - 打开 `logs/wifi_test.log`
   - 查看详细的错误信息

4. **更新程序**
   - 从GitHub获取最新版本
   - 最新版本已优化表格显示限制

---

## ⚙️ 配置管理

### Q23: 如何修改配置文件？

**回答**: 配置文件位于 `config/config.json`，您可以直接编辑。

**操作步骤**:
1. 打开 `config/config.json` 文件
2. 使用文本编辑器（如记事本）编辑
3. 修改需要的配置项
4. 保存文件
5. 重启程序使配置生效

**常用配置**:
```json
{
  "wifi": {
    "test_count": 50,
    "scan_interval": 5
  },
  "ui": {
    "chart_update_interval": 2000
  },
  "logging": {
    "level": "INFO"
  }
}
```

**注意事项**:
- 确保JSON格式正确
- 字符串使用双引号
- 数字不要加引号
- 布尔值使用true/false

---

### Q24: 配置修改后不生效怎么办？

**问题描述**: 修改配置文件后重启程序，配置没有生效。

**可能原因**:
- JSON格式错误
- 配置文件路径错误
- 程序缓存了旧配置

**解决方案**:

1. **检查JSON格式**
   - 使用在线JSON验证工具
   - 确保格式正确

2. **检查文件路径**
   - 确保修改的是正确的配置文件
   - 配置文件应位于 `config/config.json`

3. **清除缓存**
   - 删除 `__pycache__` 目录
   - 重启程序

4. **重置配置**
   - 删除 `config/config.json`
   - 重启程序，程序会生成默认配置
   - 重新修改配置

---

### Q25: 如何恢复默认配置？

**回答**: 删除配置文件，程序会自动生成默认配置。

**操作步骤**:
1. 关闭程序
2. 删除 `config/config.json` 文件
3. 重启程序
4. 程序会自动生成默认配置

**注意事项**:
- 所有自定义配置都会丢失
- 建议先备份配置文件
- 备份方法: 复制 `config.json` 为 `config.json.backup`

---

## 🔧 高级问题

### Q26: 如何在Linux或Mac上运行？

**回答**: 目前程序主要针对Windows平台，但理论上可以在其他平台运行。

**注意事项**:
- pywifi库主要支持Windows
- Linux/Mac可能需要额外的驱动或库
- 部分功能可能无法正常工作

**尝试方法**:
1. 安装Python 3.8+
2. 安装依赖: `pip install -r requirements.txt`
3. 运行程序: `python main.py`
4. 如果遇到问题，查看错误信息

**建议**:
- 目前建议在Windows上使用
- 等待官方支持其他平台

---

### Q27: 如何贡献代码或报告问题？

**回答**: 欢迎贡献代码或报告问题！

**贡献代码**:
1. Fork项目仓库
2. 创建特性分支: `git checkout -b feature/AmazingFeature`
3. 提交更改: `git commit -m 'Add some AmazingFeature'`
4. 推送到分支: `git push origin feature/AmazingFeature`
5. 开启Pull Request

**报告问题**:
1. 访问 [GitHub Issues](https://github.com/bluebighead/wifi-speed-test-tool/issues)
2. 点击"New Issue"
3. 描述问题
4. 提供复现步骤
5. 附上错误日志
6. 提供系统信息

**建议**:
- 搜索现有Issues，避免重复报告
- 提供详细的问题描述
- 附上日志文件和截图

---

### Q28: 程序支持哪些语言？

**回答**: 目前程序主要支持中文界面。

**语言支持**:
- 界面语言: 中文
- 文档语言: 中文
- 日志语言: 中文

**未来计划**:
- 可能支持英文界面
- 可能支持多语言切换

**建议**:
- 如果您需要其他语言支持
- 可以向开发者提出建议
- 或参与翻译工作

---

## 📞 获取更多帮助

如果以上FAQ无法解决您的问题，请通过以下方式获取帮助：

1. **查看文档**
   - [README.md](README.md) - 项目概述
   - [USER_GUIDE.md](USER_GUIDE.md) - 使用教程
   - [TECHNICAL.md](TECHNICAL.md) - 技术文档
   - [API.md](API.md) - API文档

2. **查看日志**
   - 日志文件位于 `logs/wifi_test.log`
   - 查看详细的错误信息和堆栈跟踪

3. **提交问题**
   - 访问 [GitHub Issues](https://github.com/bluebighead/wifi-speed-test-tool/issues)
   - 搜索现有问题
   - 提交新问题

4. **联系开发者**
   - 通过GitHub联系开发者
   - 提供详细的问题描述和日志

---

**文档版本**：1.0.0  
**最后更新**：2026-02-08  
**维护者**：WiFi Test Team
